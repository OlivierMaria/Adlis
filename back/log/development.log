  [1m[35m (132.1ms)[0m  [1m[35mCREATE DATABASE "back_development" ENCODING = 'unicode'[0m
  [1m[35m (104.1ms)[0m  [1m[35mCREATE DATABASE "back_test" ENCODING = 'unicode'[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2950963735451797590)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230619110800)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "verified" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619110800"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSessions (20230619110801)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "sessions" ("id" bigserial primary key, "user_id" bigint NOT NULL, "user_agent" character varying, "ip_address" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_758836b4f0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_sessions_on_user_id" ON "sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619110801"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePasswordResetTokens (20230619110802)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "password_reset_tokens" ("id" bigserial primary key, "user_id" bigint NOT NULL, CONSTRAINT "fk_rails_1dfd31e72f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_password_reset_tokens_on_user_id" ON "password_reset_tokens" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619110802"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEmailVerificationTokens (20230619110803)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "email_verification_tokens" ("id" bigserial primary key, "user_id" bigint NOT NULL, CONSTRAINT "fk_rails_37a6b0cc74"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_email_verification_tokens_on_user_id" ON "email_verification_tokens" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619110803"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-19 11:11:51.640293"], ["updated_at", "2023-06-19 11:11:51.640293"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(2950963735451797590)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:12:10 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RegistrationsController#create as */*
  Parameters: {"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f3570a643c8>, params: {"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "faouzi@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 11:12:10.805010"], ["updated_at", "2023-06-19 11:12:10.805010"]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:22:in `create_session'
  [1m[36mSession Create (1.6ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:12:10.845884"], ["updated_at", "2023-06-19 11:12:10.845884"]]
  â†³ app/controllers/registrations_controller.rb:22:in `create_session'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:22:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 454fe4c7-d625-47d5-a874-f7f5f373df7f) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f3574e096f0 @uri=#<URI::GID gid://back/User/1>>}, :args=>[]}
Completed 201 Created in 362ms (Views: 0.4ms | ActiveRecord: 13.6ms | Allocations: 108137)


[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f] Performing ActionMailer::MailDeliveryJob (Job ID: 454fe4c7-d625-47d5-a874-f7f5f373df7f) from Async(default) enqueued at 2023-06-19T11:12:10Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f3574e698c0 @uri=#<URI::GID gid://back/User/1>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   [1m[36mEmailVerificationToken Create (1.4ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 2.1ms | Allocations: 713)
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f]   Rendered layout layouts/mailer.html.erb (Duration: 3.3ms | Allocations: 990)
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f] UserMailer#email_verification: processed outbound mail in 48.2ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f] Delivered mail 6490380aecf69_7e634cf4-455@akvayli.mail (25.4ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f] Date: Mon, 19 Jun 2023 13:12:10 +0200
From: from@example.com
To: faouzi@gmail.com
Message-ID: <6490380aecf69_7e634cf4-455@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1RPT0iLCJleHAiOiIyMDIzLTA2LTIxVDExOjEyOjEwLjkzOFoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--23e778726732fbdbbb303bd085a9343b304801b06b4188f6dd39d5d386fb2f91">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [454fe4c7-d625-47d5-a874-f7f5f373df7f] Performed ActionMailer::MailDeliveryJob (Job ID: 454fe4c7-d625-47d5-a874-f7f5f373df7f) from Async(default) in 87.9ms
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions"[0m
Started DELETE "/sessions/1" for 127.0.0.1 at 2023-06-19 13:13:09 +0200
Processing by SessionsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/current.rb:6:in `session='
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:33:in `set_session'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:28:in `destroy'
  [1m[36mSession Destroy (1.2ms)[0m  [1m[31mDELETE FROM "sessions" WHERE "sessions"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/sessions_controller.rb:28:in `destroy'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:28:in `destroy'
Completed 204 No Content in 24ms (ActiveRecord: 4.5ms | Allocations: 3996)


  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions"[0m
Started DELETE "/sessions/1" for 127.0.0.1 at 2023-06-19 13:14:13 +0200
Processing by SessionsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mSession Load (0.6ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 14ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 3292)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2950963735451797590)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUsernameToUsers (20230619111718)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "username" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619111718"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(2950963735451797590)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:17:53 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:15:in `create'
Completed 401 Unauthorized in 242ms (Views: 0.3ms | ActiveRecord: 6.9ms | Allocations: 43796)


Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:18:05 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mSession Create (1.6ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:18:05.910120"], ["updated_at", "2023-06-19 11:18:05.910120"]]
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
Completed 500 Internal Server Error in 268ms (ActiveRecord: 5.8ms | Allocations: 21726)


  
NoMethodError (undefined method `username' for nil:NilClass):
  
app/controllers/sessions_controller.rb:21:in `create'
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:20:28 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username:"=>"faouzi", "email"=>"faouzi1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username:"=>"faouzi", "email"=>"faouzi1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameters: :username:, :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f930d07d878>, params: {"username:"=>"faouzi", "email"=>"faouzi1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username:"=>"faouzi", "email"=>"faouzi1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi1@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "verified", "created_at", "updated_at", "username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "faouzi1@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 11:20:28.320562"], ["updated_at", "2023-06-19 11:20:28.320562"], ["username", nil]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
  [1m[36mSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:20:28.331293"], ["updated_at", "2023-06-19 11:20:28.331293"]]
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: e265a4db-a449-4d47-b425-26b66b05c235) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f930caa14e0 @uri=#<URI::GID gid://back/User/2>>}, :args=>[]}
Completed 201 Created in 272ms (Views: 0.2ms | ActiveRecord: 10.8ms | Allocations: 35815)


[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235] Performing ActionMailer::MailDeliveryJob (Job ID: e265a4db-a449-4d47-b425-26b66b05c235) from Async(default) enqueued at 2023-06-19T11:20:28Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f930cb19148 @uri=#<URI::GID gid://back/User/2>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   [1m[36mEmailVerificationToken Create (1.3ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 2]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 2.3ms | Allocations: 609)
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235]   Rendered layout layouts/mailer.html.erb (Duration: 3.8ms | Allocations: 886)
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235] UserMailer#email_verification: processed outbound mail in 38.4ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235] Delivered mail 649039fc6a7ca_42f4d94-489@akvayli.mail (6.3ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235] Date: Mon, 19 Jun 2023 13:20:28 +0200
From: from@example.com
To: faouzi1@gmail.com
Message-ID: <649039fc6a7ca_42f4d94-489@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi1@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1nPT0iLCJleHAiOiIyMDIzLTA2LTIxVDExOjIwOjI4LjQxOFoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--916e2d29a9b474b10eb5423ca139bfeb522e4a82c9c57efd23d967963beb64f5">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [e265a4db-a449-4d47-b425-26b66b05c235] Performed ActionMailer::MailDeliveryJob (Job ID: e265a4db-a449-4d47-b425-26b66b05c235) from Async(default) in 53.42ms
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:22:39 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi2@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi2@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameters: :username, :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f92fcb45cd0>, params: {"username"=>"faouzi", "email"=>"faouzi2@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi2@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi2@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "verified", "created_at", "updated_at", "username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "faouzi2@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 11:22:39.437845"], ["updated_at", "2023-06-19 11:22:39.437845"], ["username", nil]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
  [1m[36mSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:22:39.445589"], ["updated_at", "2023-06-19 11:22:39.445589"]]
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f92fcb80d30 @uri=#<URI::GID gid://back/User/3>>}, :args=>[]}
Completed 201 Created in 238ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 5256)


[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e] Performing ActionMailer::MailDeliveryJob (Job ID: b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e) from Async(default) enqueued at 2023-06-19T11:22:39Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f92fcbfe8c0 @uri=#<URI::GID gid://back/User/3>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   [1m[36mEmailVerificationToken Create (0.7ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 3]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 70)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e]   Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 169)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e] UserMailer#email_verification: processed outbound mail in 10.2ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e] Delivered mail 64903a7f733a1_42f4d94-31e@akvayli.mail (1.6ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e] Date: Mon, 19 Jun 2023 13:22:39 +0200
From: from@example.com
To: faouzi2@gmail.com
Message-ID: <64903a7f733a1_42f4d94-31e@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi2@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik13PT0iLCJleHAiOiIyMDIzLTA2LTIxVDExOjIyOjM5LjQ2OFoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--5c1b36e8cb0e693e148afa05134160f3a976e11eef0a443129ec91ebaeca3e25">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e] Performed ActionMailer::MailDeliveryJob (Job ID: b7923644-c2a5-4784-a3b2-a8fa5a0e7a0e) from Async(default) in 16.35ms
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:22:44 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi2@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi2@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameters: :username, :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f92fcc669e8>, params: {"username"=>"faouzi", "email"=>"faouzi2@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi2@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi2@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 204ms (Views: 1.0ms | ActiveRecord: 1.0ms | Allocations: 2636)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:35:27 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameters: :username, :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f930d185630>, params: {"username"=>"faouzi", "email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi3@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "verified", "created_at", "updated_at", "username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "faouzi3@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 11:35:27.760917"], ["updated_at", "2023-06-19 11:35:27.760917"], ["username", nil]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
  [1m[36mSession Create (0.7ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:35:27.766520"], ["updated_at", "2023-06-19 11:35:27.766520"]]
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: b4c3b7e4-3815-4525-af24-68c670825779) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f930d31d010 @uri=#<URI::GID gid://back/User/4>>}, :args=>[]}
Completed 201 Created in 226ms (Views: 0.2ms | ActiveRecord: 11.3ms | Allocations: 8095)


[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779] Performing ActionMailer::MailDeliveryJob (Job ID: b4c3b7e4-3815-4525-af24-68c670825779) from Async(default) enqueued at 2023-06-19T11:35:27Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f92e0201d48 @uri=#<URI::GID gid://back/User/4>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   [1m[36mEmailVerificationToken Create (0.7ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 4]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 70)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779]   Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 169)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779] UserMailer#email_verification: processed outbound mail in 9.4ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779] Delivered mail 64903d7fc1073_42f4d94-233@akvayli.mail (2.1ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779] Date: Mon, 19 Jun 2023 13:35:27 +0200
From: from@example.com
To: faouzi3@gmail.com
Message-ID: <64903d7fc1073_42f4d94-233@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi3@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik5BPT0iLCJleHAiOiIyMDIzLTA2LTIxVDExOjM1OjI3Ljc4N1oiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--5df6b63b1888c2b25603b1f2f2f519006471af1c2424db927aaf550157431c15">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [b4c3b7e4-3815-4525-af24-68c670825779] Performed ActionMailer::MailDeliveryJob (Job ID: b4c3b7e4-3815-4525-af24-68c670825779) from Async(default) in 15.96ms
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:35:39 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi4@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi4@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f92f428e798>, params: {"username"=>"faouzi", "email"=>"faouzi4@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi4@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi4@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "verified", "created_at", "updated_at", "username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "faouzi4@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 11:35:39.604782"], ["updated_at", "2023-06-19 11:35:39.604782"], ["username", "faouzi"]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
  [1m[36mSession Create (0.4ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 5], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:35:39.618136"], ["updated_at", "2023-06-19 11:35:39.618136"]]
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:23:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: cc1e09e7-5a21-4816-98e0-b3a9e2453eaa) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f92f4444a88 @uri=#<URI::GID gid://back/User/5>>}, :args=>[]}
Completed 201 Created in 240ms (Views: 0.2ms | ActiveRecord: 10.9ms | Allocations: 18715)


[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa] Performing ActionMailer::MailDeliveryJob (Job ID: cc1e09e7-5a21-4816-98e0-b3a9e2453eaa) from Async(default) enqueued at 2023-06-19T11:35:39Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f92e0292960 @uri=#<URI::GID gid://back/User/5>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   [1m[36mEmailVerificationToken Create (0.5ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 5]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 91)
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa]   Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 193)
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa] UserMailer#email_verification: processed outbound mail in 18.9ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa] Delivered mail 64903d8b9fb3f_42f4d94-118@akvayli.mail (1.1ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa] Date: Mon, 19 Jun 2023 13:35:39 +0200
From: from@example.com
To: faouzi4@gmail.com
Message-ID: <64903d8b9fb3f_42f4d94-118@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi4@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik5RPT0iLCJleHAiOiIyMDIzLTA2LTIxVDExOjM1OjM5LjY1MFoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--00ff2a6451c883273f0ab4d9d572c7d9bf08cb451c38027ad35d82a0ddf7ea9b">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [cc1e09e7-5a21-4816-98e0-b3a9e2453eaa] Performed ActionMailer::MailDeliveryJob (Job ID: cc1e09e7-5a21-4816-98e0-b3a9e2453eaa) from Async(default) in 23.78ms
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Delete All (3.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Delete All (1.0ms)[0m  [1m[31mDELETE FROM "users"[0m
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:46:17 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi4@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi4@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f92f81d7620>, params: {"username"=>"faouzi", "email"=>"faouzi4@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi4@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi4@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
Completed 422 Unprocessable Entity in 269ms (Views: 0.7ms | ActiveRecord: 7.5ms | Allocations: 11982)


Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:46:24 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi5@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi5@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f9308048830>, params: {"username"=>"faouzi", "email"=>"faouzi5@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi5@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi5@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "verified", "created_at", "updated_at", "username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "faouzi5@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 11:46:25.033865"], ["updated_at", "2023-06-19 11:46:25.033865"], ["username", "faouzi"]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 6], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:46:25.046073"], ["updated_at", "2023-06-19 11:46:25.046073"]]
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: fe9de378-cc2d-420b-b4a2-4f7ef9421530) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f9308138150 @uri=#<URI::GID gid://back/User/6>>}, :args=>[]}
Completed 201 Created in 224ms (Views: 0.3ms | ActiveRecord: 6.3ms | Allocations: 11331)


[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530] Performing ActionMailer::MailDeliveryJob (Job ID: fe9de378-cc2d-420b-b4a2-4f7ef9421530) from Async(default) enqueued at 2023-06-19T11:46:25Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f92e0385b38 @uri=#<URI::GID gid://back/User/6>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   [1m[36mEmailVerificationToken Create (0.6ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 6]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 91)
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530]   Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 193)
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530] UserMailer#email_verification: processed outbound mail in 13.1ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530] Delivered mail 6490401112c6c_42f4d94075@akvayli.mail (2.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530] Date: Mon, 19 Jun 2023 13:46:25 +0200
From: from@example.com
To: faouzi5@gmail.com
Message-ID: <6490401112c6c_42f4d94075@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi5@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik5nPT0iLCJleHAiOiIyMDIzLTA2LTIxVDExOjQ2OjI1LjA3MloiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--47964b1d125d3e112d90d447392175bcef5580dd2aa78d15f0635831030f3d06">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [fe9de378-cc2d-420b-b4a2-4f7ef9421530] Performed ActionMailer::MailDeliveryJob (Job ID: fe9de378-cc2d-420b-b4a2-4f7ef9421530) from Async(default) in 20.42ms
Started GET "/user/6" for 127.0.0.1 at 2023-06-19 13:48:45 +0200
  
ActionController::RoutingError (No route matches [GET] "/user/6"):
  
Started GET "/user/6" for 127.0.0.1 at 2023-06-19 13:49:02 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/user/6"):
  
Started DELETE "/user/6" for 127.0.0.1 at 2023-06-19 13:49:11 +0200
  
ActionController::RoutingError (No route matches [DELETE] "/user/6"):
  
Started DELETE "/users/6" for 127.0.0.1 at 2023-06-19 13:50:03 +0200
Processing by RegistrationsController#destroy as */*
  Parameters: {"id"=>"6"}
  [1m[36mSession Load (0.7ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/models/current.rb:6:in `session='
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:18:in `destroy'
  [1m[36mEmailVerificationToken Load (0.4ms)[0m  [1m[34mSELECT "email_verification_tokens".* FROM "email_verification_tokens" WHERE "email_verification_tokens"."user_id" = $1[0m  [["user_id", 6]]
  â†³ app/controllers/registrations_controller.rb:18:in `destroy'
  [1m[36mEmailVerificationToken Destroy (0.4ms)[0m  [1m[31mDELETE FROM "email_verification_tokens" WHERE "email_verification_tokens"."id" = $1[0m  [["id", 6]]
  â†³ app/controllers/registrations_controller.rb:18:in `destroy'
  [1m[36mPasswordResetToken Load (1.2ms)[0m  [1m[34mSELECT "password_reset_tokens".* FROM "password_reset_tokens" WHERE "password_reset_tokens"."user_id" = $1[0m  [["user_id", 6]]
  â†³ app/controllers/registrations_controller.rb:18:in `destroy'
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1[0m  [["user_id", 6]]
  â†³ app/controllers/registrations_controller.rb:18:in `destroy'
  [1m[36mSession Destroy (0.6ms)[0m  [1m[31mDELETE FROM "sessions" WHERE "sessions"."id" = $1[0m  [["id", 7]]
  â†³ app/controllers/registrations_controller.rb:18:in `destroy'
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 6]]
  â†³ app/controllers/registrations_controller.rb:18:in `destroy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:18:in `destroy'
Completed 200 OK in 101ms (Views: 0.6ms | ActiveRecord: 14.9ms | Allocations: 74846)


Started GET "/sessions/28" for 127.0.0.1 at 2023-06-19 13:50:21 +0200
Processing by SessionsController#show as */*
  Parameters: {"id"=>"28"}
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 722)


Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:50:47 +0200
Error occurred while parsing request parameters.
Contents:

{
  "email": "faouzi5@gmail.com",
  "password": "hellonicehellonice",
}
Processing by SessionsController#create as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 170)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/sessions_controller.rb:15:in `create'
Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:51:29 +0200
Error occurred while parsing request parameters.
Contents:

{
  "email": "faouzi6@gmail.com",
  "password": "hellonicehellonice",
}
Processing by SessionsController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 123)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/sessions_controller.rb:15:in `create'
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 13:51:37 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f62a11d8688>, params: {"username"=>"faouzi", "email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi6@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "verified", "created_at", "updated_at", "username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "faouzi6@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 11:51:37.811248"], ["updated_at", "2023-06-19 11:51:37.811248"], ["username", "faouzi"]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 7], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:51:37.827184"], ["updated_at", "2023-06-19 11:51:37.827184"]]
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 9435ad5e-b288-4275-9991-0f5cb9929a58) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f62a0e97168 @uri=#<URI::GID gid://back/User/7>>}, :args=>[]}
Completed 201 Created in 288ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 37117)


[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58] Performing ActionMailer::MailDeliveryJob (Job ID: 9435ad5e-b288-4275-9991-0f5cb9929a58) from Async(default) enqueued at 2023-06-19T11:51:37Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f62a0ef5150 @uri=#<URI::GID gid://back/User/7>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   [1m[36mEmailVerificationToken Create (1.0ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 7]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 2.4ms | Allocations: 609)
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58]   Rendered layout layouts/mailer.html.erb (Duration: 3.7ms | Allocations: 886)
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58] UserMailer#email_verification: processed outbound mail in 31.4ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58] Delivered mail 64904149e2121_83c4f74753f1@akvayli.mail (7.8ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58] Date: Mon, 19 Jun 2023 13:51:37 +0200
From: from@example.com
To: faouzi6@gmail.com
Message-ID: <64904149e2121_83c4f74753f1@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi6@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik53PT0iLCJleHAiOiIyMDIzLTA2LTIxVDExOjUxOjM3LjkwNloiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--de8dd85917d032942e5e168c7936b7a3d87004d2d7ea901640923809149a345d">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [9435ad5e-b288-4275-9991-0f5cb9929a58] Performed ActionMailer::MailDeliveryJob (Job ID: 9435ad5e-b288-4275-9991-0f5cb9929a58) from Async(default) in 48.55ms
Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:53:23 +0200
Error occurred while parsing request parameters.
Contents:

{
  "email": "faouzi6@gmail.com",
  "password": "hellonicehellonice",
}
Processing by SessionsController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 124)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/sessions_controller.rb:15:in `create'
Started GET "/sessions/8" for 127.0.0.1 at 2023-06-19 13:54:10 +0200
Processing by SessionsController#show as */*
  Parameters: {"id"=>"8"}
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/current.rb:6:in `session='
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."id" = $2 LIMIT $3[0m  [["user_id", 7], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:36:in `set_session'
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.1ms | Allocations: 2113)


Started DELETE "/sessions/8" for 127.0.0.1 at 2023-06-19 13:54:36 +0200
Processing by SessionsController#destroy as */*
  Parameters: {"id"=>"8"}
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/current.rb:6:in `session='
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."id" = $2 LIMIT $3[0m  [["user_id", 7], ["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:36:in `set_session'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:29:in `destroy'
  [1m[36mSession Destroy (0.4ms)[0m  [1m[31mDELETE FROM "sessions" WHERE "sessions"."id" = $1[0m  [["id", 8]]
  â†³ app/controllers/sessions_controller.rb:29:in `destroy'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:29:in `destroy'
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 4.5ms | Allocations: 3229)


Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:54:42 +0200
Error occurred while parsing request parameters.
Contents:

{
  "email": "faouzi6@gmail.com",
  "password": "hellonicehellonice",
}
Processing by SessionsController#create as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 126)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/sessions_controller.rb:15:in `create'
Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:56:14 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi6@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 7], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:56:14.909017"], ["updated_at", "2023-06-19 11:56:14.909017"]]
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
Completed 500 Internal Server Error in 214ms (ActiveRecord: 4.3ms | Allocations: 3233)


  
NoMethodError (undefined method `username' for nil:NilClass):
  
app/controllers/sessions_controller.rb:21:in `create'
Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:58:05 +0200
  
SyntaxError (/home/akvayli/finalProject/back/app/controllers/sessions_controller.rb:25: syntax error, unexpected ':', expecting `end'
      status: :unauthorized
            ^
):
  
app/controllers/sessions_controller.rb:25: syntax error, unexpected ':', expecting `end'
app/controllers/sessions_controller.rb:25: syntax error, unexpected ':', expecting `end'
Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:58:33 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi6@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 7], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:58:34.227930"], ["updated_at", "2023-06-19 11:58:34.227930"]]
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
Completed 201 Created in 285ms (Views: 0.3ms | ActiveRecord: 9.6ms | Allocations: 10948)


Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:59:20 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi6@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 7], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:59:20.505774"], ["updated_at", "2023-06-19 11:59:20.505774"]]
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
Completed 201 Created in 282ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 2634)


Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 13:59:26 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi6@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 7], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 11:59:26.747586"], ["updated_at", "2023-06-19 11:59:26.747586"]]
  â†³ app/controllers/sessions_controller.rb:18:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:18:in `create'
Completed 201 Created in 321ms (Views: 0.2ms | ActiveRecord: 8.8ms | Allocations: 10857)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2950963735451797590)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddActiveToSessions (20230619120159)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "sessions" ADD "active" boolean DEFAULT TRUE[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619120159"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(2950963735451797590)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (30.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "back_development"[0m
  [1m[35m (32.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "back_test"[0m
  [1m[35m (38.1ms)[0m  [1m[35mCREATE DATABASE "back_development" ENCODING = 'unicode'[0m
  [1m[35m (43.0ms)[0m  [1m[35mCREATE DATABASE "back_test" ENCODING = 'unicode'[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2950963735451797590)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230619110800)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "verified" boolean DEFAULT FALSE NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619110800"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSessions (20230619110801)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "sessions" ("id" bigserial primary key, "expires_at" timestamp(6), "user_id" bigint NOT NULL, "user_agent" character varying, "ip_address" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_758836b4f0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE INDEX "index_sessions_on_user_id" ON "sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619110801"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePasswordResetTokens (20230619110802)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "password_reset_tokens" ("id" bigserial primary key, "user_id" bigint NOT NULL, CONSTRAINT "fk_rails_1dfd31e72f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE INDEX "index_password_reset_tokens_on_user_id" ON "password_reset_tokens" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619110802"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEmailVerificationTokens (20230619110803)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "email_verification_tokens" ("id" bigserial primary key, "user_id" bigint NOT NULL, CONSTRAINT "fk_rails_37a6b0cc74"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_email_verification_tokens_on_user_id" ON "email_verification_tokens" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230619110803"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-19 12:18:53.295979"], ["updated_at", "2023-06-19 12:18:53.295979"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(2950963735451797590)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 14:19:13 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f0880ea6188>, params: {"username"=>"faouzi", "email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "faouzi"], ["email", "faouzi@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 12:19:14.139071"], ["updated_at", "2023-06-19 12:19:14.139071"]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mSession Create (0.9ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", nil], ["user_id", 1], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 12:19:14.173945"], ["updated_at", "2023-06-19 12:19:14.173945"]]
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 38bbeea4-45ff-4ee0-b423-ef58f6e10044) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f0881046c40 @uri=#<URI::GID gid://back/User/1>>}, :args=>[]}
Completed 201 Created in 409ms (Views: 0.3ms | ActiveRecord: 13.2ms | Allocations: 101077)


[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044] Performing ActionMailer::MailDeliveryJob (Job ID: 38bbeea4-45ff-4ee0-b423-ef58f6e10044) from Async(default) enqueued at 2023-06-19T12:19:14Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f08810eeff8 @uri=#<URI::GID gid://back/User/1>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   [1m[36mEmailVerificationToken Create (0.8ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 1.8ms | Allocations: 609)
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044]   Rendered layout layouts/mailer.html.erb (Duration: 2.9ms | Allocations: 886)
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044] UserMailer#email_verification: processed outbound mail in 39.9ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044] Delivered mail 649047c245317_d8d4d6c62052@akvayli.mail (24.4ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044] Date: Mon, 19 Jun 2023 14:19:14 +0200
From: from@example.com
To: faouzi@gmail.com
Message-ID: <649047c245317_d8d4d6c62052@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1RPT0iLCJleHAiOiIyMDIzLTA2LTIxVDEyOjE5OjE0LjI2MVoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--a02fc6a4bcdf37acb3a510dbb880fe8485bde70be46092dcfca0e523c86ecc35">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [38bbeea4-45ff-4ee0-b423-ef58f6e10044] Performed ActionMailer::MailDeliveryJob (Job ID: 38bbeea4-45ff-4ee0-b423-ef58f6e10044) from Async(default) in 72.72ms
Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 14:19:33 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi6@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi6@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:23:in `create'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 819)


Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 14:19:41 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:23:in `create'
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND (expires_at > '2023-06-19 12:19:41.912219') LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:26:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:31:in `create'
  [1m[36mSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", "2023-06-19 15:19:41.914319"], ["user_id", 1], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 12:19:41.915202"], ["updated_at", "2023-06-19 12:19:41.915202"]]
  â†³ app/controllers/sessions_controller.rb:31:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:31:in `create'
Completed 201 Created in 215ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 3438)


Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 14:20:00 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:23:in `create'
  [1m[36mSession Load (0.6ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND (expires_at > '2023-06-19 12:20:00.908036') LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:26:in `create'
Completed 422 Unprocessable Entity in 206ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1307)


Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 14:21:13 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:23:in `create'
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND (expires_at > '2023-06-19 12:21:14.093022') LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:26:in `create'
Completed 422 Unprocessable Entity in 202ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1278)


Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 14:21:36 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f08809c9598>, params: {"username"=>"faouzi", "email"=>"faouzi1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi1@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi1@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "faouzi"], ["email", "faouzi1@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 12:21:36.781093"], ["updated_at", "2023-06-19 12:21:36.781093"]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mSession Create (0.6ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", nil], ["user_id", 2], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 12:21:36.788138"], ["updated_at", "2023-06-19 12:21:36.788138"]]
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 178d659e-1e92-407f-aa4e-51e349aaf65d) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f0880b9a0c0 @uri=#<URI::GID gid://back/User/2>>}, :args=>[]}
Completed 201 Created in 222ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 5258)


[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d] Performing ActionMailer::MailDeliveryJob (Job ID: 178d659e-1e92-407f-aa4e-51e349aaf65d) from Async(default) enqueued at 2023-06-19T12:21:36Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f087c71f378 @uri=#<URI::GID gid://back/User/2>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   [1m[36mEmailVerificationToken Create (0.5ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 2]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 1.3ms | Allocations: 70)
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d]   Rendered layout layouts/mailer.html.erb (Duration: 2.1ms | Allocations: 169)
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d] UserMailer#email_verification: processed outbound mail in 12.8ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d] Delivered mail 64904850c7a3a_d8d4d6c621bc@akvayli.mail (1.3ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d] Date: Mon, 19 Jun 2023 14:21:36 +0200
From: from@example.com
To: faouzi1@gmail.com
Message-ID: <64904850c7a3a_d8d4d6c621bc@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi1@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1nPT0iLCJleHAiOiIyMDIzLTA2LTIxVDEyOjIxOjM2LjgxMloiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--1911f7c1653760499335f4a37da00b942c2ce72e8b3a2abf7eaa75536bc0f631">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [178d659e-1e92-407f-aa4e-51e349aaf65d] Performed ActionMailer::MailDeliveryJob (Job ID: 178d659e-1e92-407f-aa4e-51e349aaf65d) from Async(default) in 17.98ms
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions"[0m
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 14:24:02 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f0880ed6130>, params: {"username"=>"faouzi", "email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi3@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "faouzi"], ["email", "faouzi3@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 12:24:02.262766"], ["updated_at", "2023-06-19 12:24:02.262766"]]
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mSession Create (0.5ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", "2023-06-19 15:24:02.270331"], ["user_id", 3], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 12:24:02.275912"], ["updated_at", "2023-06-19 12:24:02.275912"]]
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:31:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 98dd85c6-358c-4c8b-97be-51ac3badeb5c) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f08701f4418 @uri=#<URI::GID gid://back/User/3>>}, :args=>[]}
Completed 201 Created in 238ms (Views: 0.2ms | ActiveRecord: 9.7ms | Allocations: 19030)


[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c] Performing ActionMailer::MailDeliveryJob (Job ID: 98dd85c6-358c-4c8b-97be-51ac3badeb5c) from Async(default) enqueued at 2023-06-19T12:24:02Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f0850216308 @uri=#<URI::GID gid://back/User/3>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   [1m[36mEmailVerificationToken Create (0.5ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 3]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 91)
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c]   Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 193)
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c] UserMailer#email_verification: processed outbound mail in 17.8ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c] Delivered mail 649048e24b926_d8d4d6c62211@akvayli.mail (2.3ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c] Date: Mon, 19 Jun 2023 14:24:02 +0200
From: from@example.com
To: faouzi3@gmail.com
Message-ID: <649048e24b926_d8d4d6c62211@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi3@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik13PT0iLCJleHAiOiIyMDIzLTA2LTIxVDEyOjI0OjAyLjMwNFoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--78ee7f82868cedcb34953ef9d21d424728377d13ccb5cc1393d5e03ef4d04c66">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [98dd85c6-358c-4c8b-97be-51ac3badeb5c] Performed ActionMailer::MailDeliveryJob (Job ID: 98dd85c6-358c-4c8b-97be-51ac3badeb5c) from Async(default) in 24.2ms
  [1m[36mSession Load (0.6ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions"[0m
Started POST "/sign_in" for 127.0.0.1 at 2023-06-19 14:24:24 +0200
Processing by SessionsController#create as */*
  Parameters: {"email"=>"faouzi3@gmail.com", "password"=>"[FILTERED]", "session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi3@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:23:in `create'
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND (expires_at > '2023-06-19 12:24:25.014320') LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:26:in `create'
Completed 422 Unprocessable Entity in 200ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1572)


Started GET "/sessions/4" for 127.0.0.1 at 2023-06-19 14:24:58 +0200
Processing by SessionsController#show as */*
  Parameters: {"id"=>"4"}
  [1m[36mSession Load (0.6ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/models/current.rb:6:in `session='
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:49:in `set_session'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:15:in `show'
  [1m[36mSession Update (0.5ms)[0m  [1m[33mUPDATE "sessions" SET "expires_at" = $1, "updated_at" = $2 WHERE "sessions"."id" = $3[0m  [["expires_at", "2023-06-19 15:24:58.225543"], ["updated_at", "2023-06-19 12:24:58.226012"], ["id", 4]]
  â†³ app/controllers/sessions_controller.rb:15:in `show'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:15:in `show'
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 4.6ms | Allocations: 4363)


  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions"[0m
Started GET "/sessions/4" for 127.0.0.1 at 2023-06-19 14:25:13 +0200
Processing by SessionsController#show as */*
  Parameters: {"id"=>"4"}
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/models/current.rb:6:in `session='
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:49:in `set_session'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:15:in `show'
  [1m[36mSession Update (0.4ms)[0m  [1m[33mUPDATE "sessions" SET "expires_at" = $1, "updated_at" = $2 WHERE "sessions"."id" = $3[0m  [["expires_at", "2023-06-19 15:25:13.145163"], ["updated_at", "2023-06-19 12:25:13.145804"], ["id", 4]]
  â†³ app/controllers/sessions_controller.rb:15:in `show'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:15:in `show'
Completed 200 OK in 14ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 3737)


Started DELETE "/sessions/4" for 127.0.0.1 at 2023-06-19 14:25:46 +0200
Processing by SessionsController#destroy as */*
  Parameters: {"id"=>"4"}
  [1m[36mSession Load (0.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/models/current.rb:6:in `session='
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:49:in `set_session'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:42:in `destroy'
  [1m[36mSession Destroy (0.4ms)[0m  [1m[31mDELETE FROM "sessions" WHERE "sessions"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/sessions_controller.rb:42:in `destroy'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:42:in `destroy'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 3302)


  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions"[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 15:19:42 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"faouzi5@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"faouzi5@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007fd598b1b4b0>, params: {"username"=>"faouzi", "email"=>"faouzi5@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"faouzi5@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "faouzi5@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "faouzi"], ["email", "faouzi5@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 13:19:43.234308"], ["updated_at", "2023-06-19 13:19:43.234308"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mSession Create (1.9ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", "2023-06-19 16:19:43.256409"], ["user_id", 4], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 13:19:43.278623"], ["updated_at", "2023-06-19 13:19:43.278623"]]
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: f34a5a95-28ce-4247-a2d5-702a3f48e72c) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007fd5a9089400 @uri=#<URI::GID gid://back/User/4>>}, :args=>[]}
Completed 201 Created in 476ms (Views: 0.3ms | ActiveRecord: 19.3ms | Allocations: 101166)


[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c] Performing ActionMailer::MailDeliveryJob (Job ID: f34a5a95-28ce-4247-a2d5-702a3f48e72c) from Async(default) enqueued at 2023-06-19T13:19:43Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007fd5a90b1e00 @uri=#<URI::GID gid://back/User/4>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   [1m[36mEmailVerificationToken Create (2.1ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 4]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 2.4ms | Allocations: 609)
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c]   Rendered layout layouts/mailer.html.erb (Duration: 4.1ms | Allocations: 886)
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c] UserMailer#email_verification: processed outbound mail in 56.5ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c] Delivered mail 649055ef67ed9_14114d6c85671@akvayli.mail (34.0ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c] Date: Mon, 19 Jun 2023 15:19:43 +0200
From: from@example.com
To: faouzi5@gmail.com
Message-ID: <649055ef67ed9_14114d6c85671@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that faouzi5@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik5BPT0iLCJleHAiOiIyMDIzLTA2LTIxVDEzOjE5OjQzLjM5NloiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--9d8f4debf683bb99e36ccb559c3ba3b23b51685e217639dffdac2caa5e50b1c3">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [f34a5a95-28ce-4247-a2d5-702a3f48e72c] Performed ActionMailer::MailDeliveryJob (Job ID: f34a5a95-28ce-4247-a2d5-702a3f48e72c) from Async(default) in 101.86ms
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 15:59:46 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"teisouresaffau-3478@yopmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"teisouresaffau-3478@yopmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007fd6a5225e60>, params: {"username"=>"faouzi", "email"=>"teisouresaffau-3478@yopmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"teisouresaffau-3478@yopmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teisouresaffau-3478@yopmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "faouzi"], ["email", "teisouresaffau-3478@yopmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 13:59:47.528134"], ["updated_at", "2023-06-19 13:59:47.528134"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mSession Create (3.1ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", "2023-06-19 16:59:47.567841"], ["user_id", 5], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 13:59:47.614503"], ["updated_at", "2023-06-19 13:59:47.614503"]]
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
Completed 500 Internal Server Error in 602ms (ActiveRecord: 30.4ms | Allocations: 69902)


  
SyntaxError (/home/akvayli/finalProject/Adlis/back/app/mailers/user_mailer.rb:8: syntax error, unexpected '\n', expecting =>):
  
app/mailers/user_mailer.rb:8: syntax error, unexpected '\n', expecting =>
app/mailers/user_mailer.rb:8: syntax error, unexpected '\n', expecting =>
app/controllers/registrations_controller.rb:52:in `send_email_verification'
app/controllers/registrations_controller.rb:10:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 16:02:08 +0200
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"yeukeiddegritru-1492@yopmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"yeukeiddegritru-1492@yopmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007fd6a4fe8ee0>, params: {"username"=>"faouzi", "email"=>"yeukeiddegritru-1492@yopmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"yeukeiddegritru-1492@yopmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "yeukeiddegritru-1492@yopmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "faouzi"], ["email", "yeukeiddegritru-1492@yopmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 14:02:08.410532"], ["updated_at", "2023-06-19 14:02:08.410532"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mSession Create (0.8ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", "2023-06-19 17:02:08.425336"], ["user_id", 6], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 14:02:08.441471"], ["updated_at", "2023-06-19 14:02:08.441471"]]
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: e92bdda8-feeb-4e63-885b-60344b6e7316) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007fd698b23bf0 @uri=#<URI::GID gid://back/User/6>>}, :args=>[]}
Completed 201 Created in 375ms (Views: 0.6ms | ActiveRecord: 17.6ms | Allocations: 19764)


[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316] Performing ActionMailer::MailDeliveryJob (Job ID: e92bdda8-feeb-4e63-885b-60344b6e7316) from Async(default) enqueued at 2023-06-19T14:02:08Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007fd698b358a0 @uri=#<URI::GID gid://back/User/6>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   [1m[36mEmailVerificationToken Create (1.2ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 6]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 6.9ms | Allocations: 608)
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316]   Rendered layout layouts/mailer.html.erb (Duration: 12.2ms | Allocations: 885)
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316] UserMailer#email_verification: processed outbound mail in 96.1ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316] Delivered mail 64905fe0927e5_1e21704494884@akvayli.mail (929.6ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316] Date: Mon, 19 Jun 2023 16:02:08 +0200
From: sellandbuythp@gmail.com
To: yeukeiddegritru-1492@yopmail.com
Message-ID: <64905fe0927e5_1e21704494884@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that yeukeiddegritru-1492@yopmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik5RPT0iLCJleHAiOiIyMDIzLTA2LTIxVDE0OjAyOjA4LjU1MFoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--08300c5aaa8a0258a3bf53352e267327ca4e8fc0fe9619bc17d706c587eb5687">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [e92bdda8-feeb-4e63-885b-60344b6e7316] Performed ActionMailer::MailDeliveryJob (Job ID: e92bdda8-feeb-4e63-885b-60344b6e7316) from Async(default) in 1046.87ms
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik5RPT0iLCJleHAiOiIyMDIzLTA2LTIxVDE0OjAyOjA4LjU1MFoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--08300c5aaa8a0258a3bf53352e267327ca4e8fc0fe9619bc17d706c587eb5687" for ::1 at 2023-06-19 16:03:06 +0200
Processing by Identity::EmailVerificationsController#show as HTML
  Parameters: {"sid"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik5RPT0iLCJleHAiOiIyMDIzLTA2LTIxVDE0OjAyOjA4LjU1MFoiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0=--08300c5aaa8a0258a3bf53352e267327ca4e8fc0fe9619bc17d706c587eb5687"}
  [1m[36mEmailVerificationToken Load (0.9ms)[0m  [1m[34mSELECT "email_verification_tokens".* FROM "email_verification_tokens" WHERE "email_verification_tokens"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/identity/email_verifications_controller.rb:20:in `set_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/identity/email_verifications_controller.rb:21:in `set_user'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/identity/email_verifications_controller.rb:8:in `show'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "yeukeiddegritru-1492@yopmail.com"], ["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/identity/email_verifications_controller.rb:8:in `show'
  [1m[36mUser Update (4.6ms)[0m  [1m[33mUPDATE "users" SET "verified" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["verified", true], ["updated_at", "2023-06-19 14:03:06.457413"], ["id", 6]]
  â†³ app/controllers/identity/email_verifications_controller.rb:8:in `show'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/identity/email_verifications_controller.rb:8:in `show'
Completed 204 No Content in 52ms (ActiveRecord: 10.6ms | Allocations: 4515)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started DELETE "/sessions/7" for 127.0.0.1 at 2023-06-19 16:05:49 +0200
Processing by SessionsController#destroy as */*
  Parameters: {"id"=>"7"}
  [1m[36mSession Load (0.9ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `block in authenticate'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/models/current.rb:6:in `session='
  [1m[36mSession Load (0.8ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."id" = $2 LIMIT $3[0m  [["user_id", 6], ["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:52:in `set_session'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/sessions_controller.rb:45:in `destroy'
  [1m[36mSession Destroy (1.1ms)[0m  [1m[31mDELETE FROM "sessions" WHERE "sessions"."id" = $1[0m  [["id", 7]]
  â†³ app/controllers/sessions_controller.rb:45:in `destroy'
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/sessions_controller.rb:45:in `destroy'
Completed 200 OK in 44ms (Views: 0.7ms | ActiveRecord: 13.1ms | Allocations: 3873)


Started GET "/identity/password_reset/new" for 127.0.0.1 at 2023-06-19 16:35:55 +0200
  
AbstractController::ActionNotFound (The action 'new' could not be found for Identity::PasswordResetsController):
  
actionpack (7.0.5) lib/abstract_controller/base.rb:146:in `process'
actionpack (7.0.5) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.5) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.5) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.5) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.5) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.5) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.5) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.5) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.7) lib/rack/etag.rb:27:in `call'
rack (2.2.7) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.7) lib/rack/head.rb:12:in `call'
activerecord (7.0.5) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.5) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.5) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.5) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.5) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.5) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.5) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.5) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.5) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.7) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.5) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.5) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.5) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.7) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.5) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.5) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/identity/password_reset/create" for 127.0.0.1 at 2023-06-19 16:36:35 +0200
  
ActionController::RoutingError (No route matches [GET] "/identity/password_reset/create"):
  
Started POST "/identity/password_reset" for 127.0.0.1 at 2023-06-19 16:38:16 +0200
Processing by Identity::PasswordResetsController#create as */*
  Parameters: {"email"=>"yeukeiddegritru-1492@yopmail.com", "password_reset"=>{"email"=>"yeukeiddegritru-1492@yopmail.com"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 AND "users"."verified" = $2 LIMIT $3[0m  [["email", "yeukeiddegritru-1492@yopmail.com"], ["verified", true], ["LIMIT", 1]]
  â†³ app/controllers/identity/password_resets_controller.rb:11:in `create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 380e319f-cc8d-448b-9ef4-67fd147f289f) to Async(default) with arguments: "UserMailer", "password_reset", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007fd68818a180 @uri=#<URI::GID gid://back/User/6>>}, :args=>[]}
Completed 204 No Content in 24ms (ActiveRecord: 8.4ms | Allocations: 4040)


[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f] Performing ActionMailer::MailDeliveryJob (Job ID: 380e319f-cc8d-448b-9ef4-67fd147f289f) from Async(default) enqueued at 2023-06-19T14:38:16Z with arguments: "UserMailer", "password_reset", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007fd67420e2c8 @uri=#<URI::GID gid://back/User/6>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   â†³ app/mailers/user_mailer.rb:4:in `password_reset'
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   [1m[36mPasswordResetToken Create (5.3ms)[0m  [1m[32mINSERT INTO "password_reset_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 6]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   â†³ app/mailers/user_mailer.rb:4:in `password_reset'
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   â†³ app/mailers/user_mailer.rb:4:in `password_reset'
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   Rendering user_mailer/password_reset.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   Rendered user_mailer/password_reset.html.erb within layouts/mailer (Duration: 1.6ms | Allocations: 247)
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f]   Rendered layout layouts/mailer.html.erb (Duration: 2.9ms | Allocations: 346)
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f] UserMailer#password_reset: processed outbound mail in 59.5ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f] Delivered mail 6490685876e24_1e217044949e6@akvayli.mail (972.4ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f] Date: Mon, 19 Jun 2023 16:38:16 +0200
From: sellandbuythp@gmail.com
To: yeukeiddegritru-1492@yopmail.com
Message-ID: <6490685876e24_1e217044949e6@akvayli.mail>
Subject: Reset your password
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>Can't remember your password for <strong>yeukeiddegritru-1492@yopmail.com</strong>? That's OK, it happens. Just hit the link below to set a new one.</p>

<p><a href="http://localhost:3000/identity/password_reset/edit?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1RPT0iLCJleHAiOiIyMDIzLTA2LTE5VDE0OjU4OjE2LjQ3NVoiLCJwdXIiOiJwYXNzd29yZF9yZXNldF90b2tlbiJ9fQ%3D%3D--2041db71bc5dc7e8d4b748c47287c7c1cd7eb9f227d3615aca930ddebcf40f93">Reset my password</a></p>

<p>If you did not request a password reset you can safely ignore this email, it expires in 20 minutes. Only someone with access to this email account can reset your password.</p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [380e319f-cc8d-448b-9ef4-67fd147f289f] Performed ActionMailer::MailDeliveryJob (Job ID: 380e319f-cc8d-448b-9ef4-67fd147f289f) from Async(default) in 1041.72ms
Started GET "/identity/password_reset/edit?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1RPT0iLCJleHAiOiIyMDIzLTA2LTE5VDE0OjU4OjE2LjQ3NVoiLCJwdXIiOiJwYXNzd29yZF9yZXNldF90b2tlbiJ9fQ%3D%3D--2041db71bc5dc7e8d4b748c47287c7c1cd7eb9f227d3615aca930ddebcf40f93" for ::1 at 2023-06-19 16:38:48 +0200
Processing by Identity::PasswordResetsController#edit as HTML
  Parameters: {"sid"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1RPT0iLCJleHAiOiIyMDIzLTA2LTE5VDE0OjU4OjE2LjQ3NVoiLCJwdXIiOiJwYXNzd29yZF9yZXNldF90b2tlbiJ9fQ==--2041db71bc5dc7e8d4b748c47287c7c1cd7eb9f227d3615aca930ddebcf40f93"}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 36)


Started GET "/identity/password_reset/edit?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1RPT0iLCJleHAiOiIyMDIzLTA2LTE5VDE0OjU4OjE2LjQ3NVoiLCJwdXIiOiJwYXNzd29yZF9yZXNldF90b2tlbiJ9fQ%3D%3D--2041db71bc5dc7e8d4b748c47287c7c1cd7eb9f227d3615aca930ddebcf40f93" for ::1 at 2023-06-19 16:39:35 +0200
Processing by Identity::PasswordResetsController#edit as HTML
  Parameters: {"sid"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik1RPT0iLCJleHAiOiIyMDIzLTA2LTE5VDE0OjU4OjE2LjQ3NVoiLCJwdXIiOiJwYXNzd29yZF9yZXNldF90b2tlbiJ9fQ==--2041db71bc5dc7e8d4b748c47287c7c1cd7eb9f227d3615aca930ddebcf40f93"}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 40)


Started POST "/sign_up" for 127.0.0.1 at 2023-06-19 17:44:06 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RegistrationsController#create as */*
  Parameters: {"username"=>"faouzi", "email"=>"hello@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"faouzi", "email"=>"hello@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f0654d718b8>, params: {"username"=>"faouzi", "email"=>"hello@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"faouzi", "email"=>"hello@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "faouzi"], ["email", "hello@gmail.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-19 15:44:06.553207"], ["updated_at", "2023-06-19 15:44:06.553207"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mSession Create (2.6ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", "2023-06-19 18:44:06.584645"], ["user_id", 7], ["user_agent", "insomnia/2023.2.2"], ["ip_address", "127.0.0.1"], ["created_at", "2023-06-19 15:44:06.606297"], ["updated_at", "2023-06-19 15:44:06.606297"]]
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 1d033b77-49a5-4883-88ae-069ac19da5de) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f0628007730 @uri=#<URI::GID gid://back/User/7>>}, :args=>[]}
Completed 201 Created in 353ms (Views: 0.2ms | ActiveRecord: 20.5ms | Allocations: 77964)


[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de] Performing ActionMailer::MailDeliveryJob (Job ID: 1d033b77-49a5-4883-88ae-069ac19da5de) from Async(default) enqueued at 2023-06-19T15:44:06Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007f062805a7a0 @uri=#<URI::GID gid://back/User/7>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   [1m[36mEmailVerificationToken Create (2.7ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 7]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 4.8ms | Allocations: 714)
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de]   Rendered layout layouts/mailer.html.erb (Duration: 7.2ms | Allocations: 991)
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de] UserMailer#email_verification: processed outbound mail in 67.4ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de] Delivered mail 649077c6b2b80_43d44da85447d@akvayli.mail (1015.4ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de] Date: Mon, 19 Jun 2023 17:44:06 +0200
From: sellandbuythp@gmail.com
To: hello@gmail.com
Message-ID: <649077c6b2b80_43d44da85447d@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that hello@gmail.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik5nPT0iLCJleHAiOiIyMDIzLTA2LTIxVDE1OjQ0OjA2LjY4MloiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--c04bb6a236c380ff8e704ba198773cab68014363cad9a40e50398775dbd1f3e2">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [1d033b77-49a5-4883-88ae-069ac19da5de] Performed ActionMailer::MailDeliveryJob (Job ID: 1d033b77-49a5-4883-88ae-069ac19da5de) from Async(default) in 1100.49ms
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mSession Load (0.7ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."user_id" = $1 AND "sessions"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
Started GET "/ws" for 127.0.0.1 at 2023-06-20 15:28:23 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:28:24 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:28:26 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:28:29 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:28:31 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:28:38 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:28:55 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/" for ::1 at 2023-06-20 15:29:07 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/akvayli/.rvm/gems/ruby-3.0.0/gems/railties-7.0.5/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/akvayli/.rvm/gems/ruby-3.0.0/gems/railties-7.0.5/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.6ms | Allocations: 458)
Completed 200 OK in 17ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 3864)


Started GET "/ws" for ::1 at 2023-06-20 15:29:28 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:30:33 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:32:42 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started OPTIONS "/sign_up" for ::1 at 2023-06-20 15:36:52 +0200
  
ActionController::RoutingError (No route matches [OPTIONS] "/sign_up"):
  
Started GET "/ws" for ::1 at 2023-06-20 15:36:59 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started OPTIONS "/sign_up" for ::1 at 2023-06-20 15:40:02 +0200
  
ActionController::RoutingError (No route matches [OPTIONS] "/sign_up"):
  
Started POST "/sign_up" for ::1 at 2023-06-20 15:42:26 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RegistrationsController#create as HTML
  Parameters: {"username"=>"akvayli", "email"=>"hello@akvayli.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"username"=>"akvayli", "email"=>"hello@akvayli.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :registration. Context: { controller: RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007fe0a0b073a8>, params: {"username"=>"akvayli", "email"=>"hello@akvayli.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"registrations", "action"=>"create", "registration"=>{"username"=>"akvayli", "email"=>"hello@akvayli.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "hello@akvayli.com"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "verified", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "akvayli"], ["email", "hello@akvayli.com"], ["password_digest", "[FILTERED]"], ["verified", false], ["created_at", "2023-06-20 13:42:27.269181"], ["updated_at", "2023-06-20 13:42:27.269181"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mSession Create (3.7ms)[0m  [1m[32mINSERT INTO "sessions" ("expires_at", "user_id", "user_agent", "ip_address", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["expires_at", "2023-06-20 16:42:27.292990"], ["user_id", 8], ["user_agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"], ["ip_address", "::1"], ["created_at", "2023-06-20 13:42:27.313719"], ["updated_at", "2023-06-20 13:42:27.313719"]]
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/registrations_controller.rb:46:in `create_session'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: a69aacc7-96d6-4a9e-9768-ab6021190829) to Async(default) with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007fe0b0cab0c8 @uri=#<URI::GID gid://back/User/8>>}, :args=>[]}
Completed 201 Created in 469ms (Views: 0.6ms | ActiveRecord: 28.2ms | Allocations: 73492)


[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829] Performing ActionMailer::MailDeliveryJob (Job ID: a69aacc7-96d6-4a9e-9768-ab6021190829) from Async(default) enqueued at 2023-06-20T13:42:27Z with arguments: "UserMailer", "email_verification", "deliver_now", {:params=>{:user=>#<GlobalID:0x00007fe0b0d72150 @uri=#<URI::GID gid://back/User/8>>}, :args=>[]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   [1m[36mEmailVerificationToken Create (2.9ms)[0m  [1m[32mINSERT INTO "email_verification_tokens" ("user_id") VALUES ($1) RETURNING "id"[0m  [["user_id", 8]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   â†³ app/mailers/user_mailer.rb:11:in `email_verification'
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   Rendering layout layouts/mailer.html.erb
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   Rendering user_mailer/email_verification.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   Rendered user_mailer/email_verification.html.erb within layouts/mailer (Duration: 3.0ms | Allocations: 609)
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829]   Rendered layout layouts/mailer.html.erb (Duration: 4.6ms | Allocations: 886)
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829] UserMailer#email_verification: processed outbound mail in 59.4ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829] Delivered mail 6491acc36bde9_64644dbc9484@akvayli.mail (969.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829] Date: Tue, 20 Jun 2023 15:42:27 +0200
From: sellandbuythp@gmail.com
To: hello@akvayli.com
Message-ID: <6491acc36bde9_64644dbc9484@akvayli.mail>
Subject: Verify your email
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <p>Hey there,</p>

<p>This is to confirm that hello@akvayli.com is the email you want to use on your account. If you ever lose your password, that's where we'll email a reset link.</p>

<p><strong>You must hit the link below to confirm that you received this email.</strong></p>

<p><a href="http://localhost:3000/identity/email_verification?sid=eyJfcmFpbHMiOnsibWVzc2FnZSI6Ik53PT0iLCJleHAiOiIyMDIzLTA2LTIyVDEzOjQyOjI3LjQwN1oiLCJwdXIiOiJlbWFpbF92ZXJpZmljYXRpb25fdG9rZW4ifX0%3D--2093eab1be20e9718b91f61dd5485880b51750ba01d0f46fc9721ec65fee1c46">Yes, use this email for my account</a></p>

<hr>

<p>Have questions or need help? Just reply to this email and our support team will help you sort it out.</p>

  </body>
</html>

[ActiveJob] [ActionMailer::MailDeliveryJob] [a69aacc7-96d6-4a9e-9768-ab6021190829] Performed ActionMailer::MailDeliveryJob (Job ID: a69aacc7-96d6-4a9e-9768-ab6021190829) from Async(default) in 1050.63ms
Started GET "/ws" for ::1 at 2023-06-20 15:45:32 +0200
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
